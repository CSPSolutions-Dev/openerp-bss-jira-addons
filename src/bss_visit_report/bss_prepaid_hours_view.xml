<?xml version="1.0" encoding="UTF-8"?>
<openerp>
	<data>
		<record id="view_prepaid_hours_add_hours" model="ir.ui.view">
			<field name="name">bss_visit_report.prepaid_hours.add_hours</field>
			<field name="model">bss_visit_report.prepaid_hours.add_hours</field>
			<field name="arch" type="xml">
				<form string="Add prepaid hours">
					<group>
<!-- 						<field name="pph_name" readonly="True" /> -->
						<field name="amount" />
					</group>
					<group col="4" colspan="4">
						<button icon="gtk-cancel" special="cancel" string="Annuler" />
						<button icon="gtk-ok" name="execute" string="Terminer"
							type="object" />
					</group>
				</form>
			</field>
		</record>
		
		<record id="action_add_hours" model="ir.actions.act_window">
			<field name="name">Add prepaid hours</field>
			<field name="res_model">bss_visit_report.prepaid_hours.add_hours</field>
			<field name="view_type">form</field>
			<field name="view_id" ref="view_prepaid_hours_add_hours" />
			<field name="context">{'prepaid_hours_id' : active_id}</field>
			<field name="view_mode">form</field>
			<field name="target">new</field>
		</record>
		
		<record id="view_prepaid_hours_tree" model="ir.ui.view">
			<field name="name">bss_visit_report.prepaid_hours.tree</field>
			<field name="model">bss_visit_report.prepaid_hours</field>
			<field name="arch" type="xml">
				<tree string="" version="7.0">
					<field name="pph_name" />
					<field name="av_amount" />
				</tree>
			</field>
		</record>
		
		<record id="view_prepaid_hours_form" model="ir.ui.view">
			<field name="name">bss_visit_report.prepaid_hours.form</field>
			<field name="model">bss_visit_report.prepaid_hours</field>
			<field name="arch" type="xml">
				<form string="" version="7.0">
					<header>
						<button type="action" name="%(action_add_hours)d" string="Add hours"
							class="oe_highlight" attrs="{'invisible' : [('id','=',False)]}" />
					</header>
					<h1 attrs="{'invisible' : [('id','!=',False)]}"><field name="contract_id" /></h1>
					<h1 attrs="{'invisible' : [('id','=',False)]}"><field name="pph_name" /></h1>
					<group attrs="{'invisible' : [('id','=',False)]}">
						<field name="av_amount" />
					</group>
					<group string="Activity summary" attrs="{'invisible' : [('id','=',False)]}">
						<group string="Validated hours">
							<field name="validated_hours" nolabel="1" readonly="True">
								<tree string="">
									<field name="processed_date" />
									<field name="related_visit" />
									<field name="amount" />
								</tree>
							</field>
						</group>
						<group string="Added hours">
							<field name="added_hours" nolabel="1" readonly="True">
								<tree string="">
									<field name="processed_date" />
									<field name="amount" />
								</tree>
							</field>
						</group>
					</group>
					<group groups="base.group_system">
						<field name="related_hours" nolabel="1">
							<tree string="">
									<field name="processed_date" />
									<field name="related_visit" />
									<field name="amount" />
								</tree>
						</field>
					</group>
					<field name="id" invisible="1" />
				</form>
			</field>
		</record>
		
		<record id="action_prepaid_hours" model="ir.actions.act_window">
			<field name="name">Prepaid hours</field>
			<field name="res_model">bss_visit_report.prepaid_hours</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>
		
		<!-- Menu item -->
		<menuitem
			id="menu_prepaid_hours"
			parent="project_timesheet.menu_project_billing"
			action="action_prepaid_hours" />
	</data>
</openerp>